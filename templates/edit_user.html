<!DOCTYPE html>
<html>
<head>
  <title>{{ "Add" if add else "Edit" }} User | BLACK ROCK Pay</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body { background: #191919; color: #ffd6d6;}
    .glass-card { background:rgba(34,34,34,0.93); border-radius:26px; padding:32px; max-width:400px; margin:60px auto; }
    .btn { background:#d32f2f; color:#fff; border-radius:12px;}
    .form-control { background:rgba(255,255,255,0.11); color:#fff; border-radius:12px; border:1.5px solid #d32f2f;}
  </style>
</head>
<body>
  <div class="glass-card">
    <h3>{{ "Add" if add else "Edit" }} User</h3>
    <form method="POST">
      <div class="mb-3">
        <label>Terminal No</label>
        <input type="text" name="terminal_no" class="form-control" value="{{ user.terminal_no if user else '' }}" required {{ "readonly" if not add }}>
      </div>
      <div class="mb-3">
        <label>Username</label>
        <input type="text" name="username" class="form-control" value="{{ user.username if user else '' }}" required {{ "readonly" if not add }}>
      </div>
      <div class="mb-3">
        <label>Password</label>
        <input type="password" name="password" class="form-control" placeholder="{{ 'Leave blank to keep current' if not add else '' }}">
      </div>
      <div class="mb-3">
        <label>Role</label>
        <select name="role" class="form-select">
          <option value="operator" {% if user and user.role == "operator" %}selected{% endif %}>Operator</option>
          <option value="manager" {% if user and user.role == "manager" %}selected{% endif %}>Manager</option>
        </select>
      </div>
      <div class="mb-3">
        <label>Active</label>
        <input type="checkbox" name="active" {% if not add and user.active %}checked{% endif %}>
      </div>
      <button type="submit" class="btn w-100">{{ "Add User" if add else "Update User" }}</button>
    </form>
    <a href="/user-management" class="btn mt-3">Back</a>
  </div>
</body>
</html>
